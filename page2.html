<!DOCTYPE html>
<html>
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta charset="UTF-8">
  <title>Vibrant.js example</title>
  <script src="https://d3js.org/d3.v7.min.js"></script>
  <script src="libraries/vibrant.js"></script>
  <link rel="stylesheet" href="style.css" /> 

  </head>
  <body>
    <div class="navbar">
        <img src="National_Gallery_of_Art_logo.svg.png" alt="Logo" height="60px">        
        <button class="dropdown-btn">West Building Ground Floor</button>
        <div class="dropdown-content">
          <!-- Direct links -->
          <a class="button-style" href="index.html">Home</a>
          <a class="button-style" href="page1.html">Sculpture Garden</a>
      
          <!-- Submenu Entries for West Building -->
          <button class="accordion">West Building</button>
          <div class="panel">
            <a class="button-style" href="page2.html">Main Floor</a>
            <a class="button-style" href="page3.html">Ground Floor</a>
          </div>
      
          <!-- Submenu Entries for East Building -->
          <button class="accordion">East Building</button>
          <div class="panel">
            <a class="button-style" href="page4.html">Concourse</a>
            <a class="button-style" href="page5.html">Ground Level</a>
            <a class="button-style" href="page6.html">Mezzanine</a>
            <a class="button-style" href="page7.html">Upper level</a>
            <a class="button-style" href="page8.html">Tower</a>
          </div>
        </div>
      </div>

<div class="container">
<div class="columnleft" id="image_container">
    <h1>Sculpture Garden</h1>
    <div id="plan">
    <div id="svg-container"></div>
</div>
    <p> Click dot to discover your drink</p>
</div>

<!-- card -->
<div class="columnright">
    <div id="header-right">
        <h3>Creates your mixer</h3>
        <!-- Tab links -->
        <div class="tab">
            <button class="tablinks" onclick="openTab(event, 'Overview')" data-value="all" id="defaultOpen">
            <img src="Overall.svg" alt="Overview Icon">Overview
            </button>
            <button class="tablinks" onclick="openTab(event, 'Entire')" data-value="all">
                <img src="Barrel.svg" alt="Overview Icon">Entire level
                </button>
            <button class="tablinks" onclick="openTab(event, 'Painting')"data-value="Painting">
            <img src="painting.svg" alt="Painting Icon">Painting
            </button>
            <button class="tablinks" onclick="openTab(event, 'Sculpture')"data-value="Sculpture">
            <img src="sculpture.svg" alt="Sculpture Icon">Sculpture
            </button>
            <button class="tablinks" onclick="openTab(event, 'DecorativeArt')"data-value="Decorative Art">
            <img src="Decorative art.svg" alt="Decorative Art Icon">Decorative Art
            </button>
            <button class="tablinks" onclick="openTab(event, 'Drawing')"data-value="Drawing">
                <img src="Decorative art.svg" alt="Drawing Icon">Drawing
    </div>

<!-- Tab content -->
<div class="content">

        <div id="Overview" class="tabcontent">
            <h2>A Dense Tapestry of Art Diversity</h2>
            <div id="description">
            <h3>To provide visitors with a visualization indicating the density and distribution of different types of art works in the National Gallery of Art, allowing them to navigate and plan their visit based on their interests.</h3>
            <div id="dot-matrix-container">
                <h5>Proportion of Art types</h5>
                <svg width="180" height="180"></svg>
                <div id="legend"></div>
            </div>
           </div>
    </div>

    <!-- Overview tab -->
    <div id="Entire" class="tabcontent">
     <div id="allcontainer">
        <div id ="Combinecolor">
            <div class="stackedColorBoxContaineroverview">
                <svg width="0" height="0" viewBox="0 0 205 244" xmlns="http://www.w3.org/2000/svg">
                    <defs>
                      <clipPath id="bottleclip">
                        <path d="M69.9979 241.218V73.5459C69.9979 70.993 69.9382 67.1778 69.1122 63.2331C68.2814 59.2655 66.7426 55.505 64.0363 52.7987C62.7741 51.5365 61.6673 50.6233 60.4527 49.6211L60.4525 49.621C59.6619 48.9686 58.8256 48.2786 57.8712 47.4302C55.63 45.438 53.391 43.0671 51.4754 39.5058C47.724 32.5314 45.5148 21.5416 45.5148 0.838379H25.4831C25.4831 21.5416 23.2739 32.5314 19.5225 39.5058C17.607 43.0671 15.368 45.438 13.1268 47.4302C12.1722 48.2787 11.3359 48.9687 10.5453 49.6211L10.5453 49.6211L10.5452 49.6211C9.33061 50.6233 8.22377 51.5366 6.96167 52.7987C4.25528 55.505 2.71656 59.2655 1.88573 63.2331C1.05971 67.1778 0.999991 70.993 1 73.5459V241.218C1 243.267 2.66083 244.928 4.70957 244.928H66.2884C68.3371 244.928 69.9979 243.267 69.9979 241.218Z"/>
                    </clipPath>
                    </defs>
                  </svg>
                <!-- These divs will use the SVG clipPath defined above -->
                <div class="stackedColorBox" id="stackedBox5"></div>
                <div class="stackedColorBox" id="stackedBox4"></div>
                <div class="stackedColorBox" id="stackedBox3"></div>
                <div class="stackedColorBox" id="stackedBox2"></div>
                <div class="stackedColorBox" id="stackedBox1"></div>
            </div>
            <svg id="bottle" xmlns="http://www.w3.org/2000/svg" width="78" height="302" viewBox="0 0 78 302" fill="none">
                <path d="M53.8836 8.2114V3.4038C53.8836 2.07622 52.8074 1 51.4798 1H26.2399C24.9123 1 23.8361 2.07622 23.8361 3.4038V8.2114M53.8836 8.2114H23.8361M53.8836 8.2114C55.2111 8.2114 56.2874 9.28761 56.2874 10.6152V13.019C56.2874 14.3466 55.2111 15.4228 53.8836 15.4228M23.8361 8.2114C22.5085 8.2114 21.4323 9.28761 21.4323 10.6152V13.019C21.4323 14.3466 22.5085 15.4228 23.8361 15.4228M23.8361 15.4228H53.8836M23.8361 15.4228V33.4513C23.8361 34.1151 24.3742 34.6532 25.038 34.6532H52.6817C53.3455 34.6532 53.8836 34.1151 53.8836 33.4513V15.4228M73.7075 125.908V293.581C73.7075 295.63 72.0467 297.29 69.9979 297.29H8.41913C6.3704 297.29 4.70957 295.63 4.70957 293.581V125.908C4.70956 123.356 4.76927 119.54 5.5953 115.596C6.42612 111.628 7.96485 107.868 10.6712 105.161C11.9333 103.899 13.0402 102.986 14.2548 101.984C15.0455 101.331 15.8818 100.641 16.8363 99.7928C19.0775 97.8006 21.3165 95.4298 23.2321 91.8684C26.9835 84.894 29.1927 73.9042 29.1927 53.201V38.3627H49.2244V53.201C49.2244 73.9042 51.4335 84.894 55.1849 91.8684C57.1005 95.4298 59.3395 97.8006 61.5807 99.7928C62.5353 100.641 63.3716 101.331 64.1622 101.984C65.3769 102.986 66.4837 103.899 67.7458 105.161C70.4522 107.868 71.9909 111.628 72.8218 115.596C73.6478 119.54 73.7075 123.356 73.7075 125.908ZM77.4171 293.581V125.908C77.4171 120.715 77.1945 109.364 70.3689 102.538C69.0172 101.187 67.6562 100.058 66.3228 98.9529C59.2394 93.081 52.9339 87.8539 52.9339 53.201V34.6532H25.4831V53.201C25.4831 87.8539 19.1776 93.081 12.0943 98.9529C10.7608 100.058 9.39985 101.187 8.04818 102.538C1.22257 109.364 0.999982 120.715 1 125.908V293.581C1 297.678 4.32166 301 8.41913 301H69.9979C74.0954 301 77.4171 297.678 77.4171 293.581Z" stroke="black"/>
            </svg>
        </div>
    </div>

        <div id="filter">
            <h2>Add your own ingredients</h2> 
        
           <div id="colorfilter">
            <div class="colorBox" id="box1">
                <span class="deleteBox" onclick="clearBoxColor(1)">üóëÔ∏è</span>
                <input type="color" id="colorPicker1" class="color-picker">
            </div>
            <div class="colorBox hidden" id="box2">
                <span class="deleteBox" onclick="deleteBox(2)">üóëÔ∏è</span>
                <input type="color" id="colorPicker2" class="color-picker">
            </div>
            <div class="colorBox hidden" id="box3">
                <span class="deleteBox" onclick="deleteBox(3)">üóëÔ∏è</span>
                <input type="color" id="colorPicker3" class="color-picker">
            </div>
            <div class="colorBox hidden" id="box4">
                <span class="deleteBox" onclick="deleteBox(4)">üóëÔ∏è</span>
                <input type="color" id="colorPicker4" class="color-picker">
            </div>
            <div class="colorBox hidden" id="box5">
                <span class="deleteBox" onclick="deleteBox(5)">üóëÔ∏è</span>
                <input type="color" id="colorPicker5" class="color-picker">
            </div>
                <button id="addbutton" onclick="addColorBox()">+</button>
            </div>
            </div>
          </div> 
  
  <div id="Painting" class="tabcontent">
    <div id="paintcontainer">
    <div id ="Combinecolor">
        <div class="stackedColorBoxContainerpainting">
            <svg width="0" height="0" viewBox="0 0 205 244" xmlns="http://www.w3.org/2000/svg">
                <defs>
                  <clipPath id="paintingclip">
                    <path d="M199.97 1H2L105.185 142.43L199.97 1Z"/>
                </clipPath>
                </defs>
              </svg>
            <!-- These divs will use the SVG clipPath defined above -->
            <div class="stackedColorBox" id="stackedBox10"></div>
            <div class="stackedColorBox" id="stackedBox9"></div>
            <div class="stackedColorBox" id="stackedBox8"></div>
            <div class="stackedColorBox" id="stackedBox7"></div>
            <div class="stackedColorBox" id="stackedBox6"></div>
        </div>
        <svg id="glass" xmlns="http://www.w3.org/2000/svg" width="252" height="300" viewBox="0 0 205 244" fill="none">
            <path d="M204 1L204.414 1.27998L204.941 0.5H204V1ZM1 1V0.5H0.0158394L0.596183 1.29484L1 1ZM109.439 140.911L109.025 140.631L108.939 140.758V140.911H109.439ZM109.439 234.486H108.939V234.695L109.087 234.842L109.439 234.486ZM148.772 237.899H149.272V237.399H148.772V237.899ZM148.772 243V243.5H149.272V243H148.772ZM64.3776 243H63.8776V243.5H64.3776V243ZM64.3776 237.899V237.399H63.8776V237.899H64.3776ZM103.105 234.718L103.431 235.098L103.605 234.948V234.718H103.105ZM103.105 140.844H103.605V140.681L103.509 140.549L103.105 140.844ZM22.9459 11.6351V11.1351H21.962L22.5421 11.9298L22.9459 11.6351ZM182.7 11.6351L183.115 11.9135L183.637 11.1351H182.7V11.6351ZM106.211 125.722L105.808 126.017L106.229 126.594L106.627 126L106.211 125.722ZM204 0.5H1V1.5H204V0.5ZM109.853 141.191L204.414 1.27998L203.586 0.720017L109.025 140.631L109.853 141.191ZM109.939 234.486V140.911H108.939V234.486H109.939ZM126.338 237.399C122.203 237.399 118.884 237.398 116.168 236.978C113.467 236.561 111.416 235.738 109.79 234.131L109.087 234.842C110.913 236.647 113.19 237.531 116.015 237.967C118.825 238.4 122.23 238.399 126.338 238.399V237.399ZM148.772 237.399H126.338V238.399H148.772V237.399ZM149.272 243V237.899H148.272V243H149.272ZM64.3776 243.5H148.772V242.5H64.3776V243.5ZM63.8776 237.899V243H64.8776V237.899H63.8776ZM86.8113 237.399H64.3776V238.399H86.8113V237.399ZM102.78 234.339C101.183 235.708 99.1685 236.479 96.5509 236.903C93.9251 237.328 90.7347 237.399 86.8113 237.399V238.399C90.7286 238.399 93.995 238.33 96.7108 237.89C99.4349 237.449 101.647 236.628 103.431 235.098L102.78 234.339ZM102.605 140.844V234.718H103.605V140.844H102.605ZM0.596183 1.29484L102.701 141.139L103.509 140.549L1.40382 0.705158L0.596183 1.29484ZM22.9459 12.1351H182.7V11.1351H22.9459V12.1351ZM106.615 125.427L23.3498 11.3403L22.5421 11.9298L105.808 126.017L106.615 125.427ZM182.284 11.3566L105.796 125.443L106.627 126L183.115 11.9135L182.284 11.3566Z" fill="#3D3D3D"/>
        </svg>
  </div>
</div>
  <div id="filter">
    <h2>Add your own ingredients</h2>

    <div id="colorfilter">
        <div class="colorBox" id="box6">
            <span class="deleteBox" onclick="clearBoxColor(6)">üóëÔ∏è</span>
            <input type="color" id="colorPicker6" class="color-picker">
        </div>
        <div class="colorBox hidden" id="box7">
            <span class="deleteBox" onclick="deleteBox(7)">üóëÔ∏è</span>
            <input type="color" id="colorPicker7" class="color-picker">
        </div>
        <div class="colorBox hidden" id="box8">
            <span class="deleteBox" onclick="deleteBox(8)">üóëÔ∏è</span>
            <input type="color" id="colorPicker8" class="color-picker">
        </div>
        <div class="colorBox hidden" id="box9">
            <span class="deleteBox" onclick="deleteBox(9)">üóëÔ∏è</span>
            <input type="color" id="colorPicker9" class="color-picker">
        </div>
        <div class="colorBox hidden" id="box10">
            <span class="deleteBox" onclick="deleteBox(10)">üóëÔ∏è</span>
            <input type="color" id="colorPicker10" class="color-picker">
        </div>
            <button id="addbutton" onclick="addColorBox()">+</button>
        </div>
    </div>
    </div>

  <div id="Sculpture" class="tabcontent">
    <div id="sculpcontainer">
    <div id ="Combinecolor">
        <div class="stackedColorBoxContainersculpture">
            <svg width="0" height="0" viewBox="0 0 205 244" xmlns="http://www.w3.org/2000/svg">
                <defs>
                  <clipPath id="sclupclip">
                    <path d="M55.6081 94.9114V1.11035H1.79663V93.8107C2.34573 112.523 8.49561 149.947 28.7024 149.947C48.9091 149.947 55.6081 121.328 55.6081 94.9114Z"/>
                  </clipPath>
                </defs>
              </svg>
            <!-- These divs will use the SVG clipPath defined above -->
            <div class="stackedColorBox" id="stackedBox15"></div>
            <div class="stackedColorBox" id="stackedBox14"></div>
            <div class="stackedColorBox" id="stackedBox13"></div>
            <div class="stackedColorBox" id="stackedBox12"></div>
            <div class="stackedColorBox" id="stackedBox11"></div>
        </div>
    <svg id="champ"xmlns="http://www.w3.org/2000/svg" width="76" height="300" viewBox="0 0 78 300" fill="none">
        <path d="M10.7966 13.1101H11.7966H65.6081H66.6081V14.1101V107.911C66.6081 121.18 64.9288 135.083 60.6607 145.708C56.3961 156.324 49.4079 163.946 38.7024 163.946C33.3009 163.946 28.8748 161.432 25.3081 157.476C21.7582 153.539 19.0232 148.139 16.935 142.228C12.7571 130.404 11.0734 116.258 10.797 106.84L10.7966 106.825V106.81V14.1101V13.1101ZM12.7966 15.1101V106.796C13.0706 116.089 14.7369 130.003 18.8207 141.562C20.8644 147.347 23.49 152.473 26.7935 156.137C30.0803 159.783 34.0004 161.946 38.7024 161.946C48.2036 161.946 54.6683 155.26 58.8048 144.962C62.9379 134.674 64.6081 121.059 64.6081 107.911V15.1101H12.7966ZM0 0H1H76.4025H77.4025V1V98.9389C77.4025 116.993 75.1796 135.852 69.5865 150.503C64.1264 164.805 55.3327 175.367 42.0176 176.872V286.34C42.8167 286.905 44.289 287.638 46.3315 288.442C48.6614 289.36 51.6079 290.325 54.8428 291.203C61.3264 292.963 68.8753 294.35 74.8634 294.35H75.8634V295.35V299.829V300.829H74.8634H39.4704H37.9316H2.53858H1.53858V299.829V295.35V294.35H2.53858C8.53065 294.35 16.0839 292.961 22.5686 291.2C25.8041 290.321 28.7503 289.355 31.0786 288.437C33.12 287.632 34.5891 286.899 35.3842 286.335V176.818C28.8358 175.865 23.4327 172.107 19.0192 166.71C14.4145 161.08 10.8411 153.615 8.09879 145.504C2.61348 129.28 0.376276 110.234 0.000430286 97.4258L0 97.4112V97.3965V1V0ZM2 2V97.3818C2.37345 110.064 4.59339 128.891 9.99343 144.864C12.6949 152.854 16.1728 160.071 20.5674 165.444C24.9535 170.807 30.2064 174.283 36.4885 174.942L37.3842 175.035V175.936V286.82V287.27L37.0474 287.568C36.0875 288.419 34.1749 289.366 31.8125 290.297C29.4018 291.248 26.3835 292.236 23.0929 293.13C16.872 294.82 9.59429 296.198 3.53858 296.338V298.829H37.9316H39.4704H73.8634V296.338C67.8118 296.198 60.5384 294.821 54.3189 293.133C51.0289 292.24 48.0104 291.253 45.5983 290.303C43.234 289.371 41.3198 288.425 40.3562 287.576L40.0176 287.277V286.825V175.964V175.041L40.9374 174.967C53.6185 173.947 62.2384 164.143 67.718 149.79C73.1892 135.459 75.4025 116.872 75.4025 98.9389V2H2Z" fill="#3D3D3D"/>
        </svg>
  </div>
</div>
  <div id="filter">
    <h2>Add your own ingredients</h2>

    <div id="colorfilter">
    <div class="colorBox" id="box11">
        <span class="deleteBox" onclick="clearBoxColor(11)">üóëÔ∏è</span>
        <input type="color" id="colorPicker11" class="color-picker">
    </div>
    <div class="colorBox hidden" id="box12">
        <span class="deleteBox" onclick="deleteBox(12)">üóëÔ∏è</span>
        <input type="color" id="colorPicker12" class="color-picker">
    </div>
    <div class="colorBox hidden" id="box13">
        <span class="deleteBox" onclick="deleteBox(13)">üóëÔ∏è</span>
        <input type="color" id="colorPicker13" class="color-picker">
    </div>
    <div class="colorBox hidden" id="box14">
        <span class="deleteBox" onclick="deleteBox(14)">üóëÔ∏è</span>
        <input type="color" id="colorPicker14" class="color-picker">
    </div>
    <div class="colorBox hidden" id="box15">
        <span class="deleteBox" onclick="deleteBox(15)">üóëÔ∏è</span>
        <input type="color" id="colorPicker15" class="color-picker">
    </div>
        <button id="addbutton" onclick="addColorBox()">+</button>
    </div>
    </div>
  </div> 
  
  <div id="DecorativeArt" class="tabcontent">
    <div id="decorcontainer">
    <div id ="Combinecolor">
        <div class="stackedColorBoxContainerdecor">
            <svg width="0" height="0" viewBox="0 0 205 244" xmlns="http://www.w3.org/2000/svg">
                <defs>
                  <clipPath id="decorclip">
                    <path d="M55.255 167.496C-20.2827 133.246 -0.784142 42.2277 18.4073 1H56.2714H98.8765C118.068 42.2277 137.567 133.246 62.0289 167.496L61.9549 167.522C59.8104 168.275 57.4734 168.275 55.3289 167.522L55.255 167.496Z" />
                  </clipPath>
                </defs>
              </svg>
            <!-- These divs will use the SVG clipPath defined above -->
                    <div class="stackedColorBox" id="stackedBox20"></div>
                    <div class="stackedColorBox" id="stackedBox19"></div>
                    <div class="stackedColorBox" id="stackedBox18"></div>
                    <div class="stackedColorBox" id="stackedBox17"></div>
                    <div class="stackedColorBox" id="stackedBox16"></div>
        </div>
        <svg id="decor" xmlns="http://www.w3.org/2000/svg" width="133" height="300" viewBox="0 0 132 302" fill="none">
            <path d="M62.7257 184.406H63.7257V183.753L63.1277 183.49L62.7257 184.406ZM20.8043 1V0H20.1755L19.903 0.566706L20.8043 1ZM62.7257 290.52L62.9682 291.49L63.7257 291.3V290.52H62.7257ZM20.8043 301L20.5617 300.03L20.8043 302V301ZM112.354 301V302L112.596 300.03L112.354 301ZM70.4323 290.52H69.4323V291.3L70.1898 291.49L70.4323 290.52ZM70.4323 184.406L70.0303 183.49L69.4323 183.753V184.406H70.4323ZM112.354 1L113.255 0.566706L112.983 0H112.354V1ZM63.1143 175.358L62.7014 176.268L62.7415 176.287L62.7831 176.301L63.1143 175.358ZM26.2667 8.86133V7.86133H25.6292L25.3601 8.43931L26.2667 8.86133ZM63.1883 175.384L63.5196 174.44L63.5196 174.44L63.1883 175.384ZM69.8143 175.384L69.483 174.44L69.483 174.44L69.8143 175.384ZM69.8883 175.358L70.2195 176.301L70.2611 176.287L70.3012 176.268L69.8883 175.358ZM106.736 8.86133L107.642 8.43931L107.373 7.86133H106.736V8.86133ZM63.1277 183.49C20.5713 164.807 4.79517 130.69 2.34771 95.5157C-0.104031 60.2801 10.8386 24.0365 21.7055 1.43329L19.903 0.566706C8.93589 23.3783 -2.13023 59.9731 0.352532 95.6546C2.83957 131.397 18.9412 166.276 62.3237 185.322L63.1277 183.49ZM63.7257 290.52V184.406H61.7257V290.52H63.7257ZM21.0468 301.97L62.9682 291.49L62.4831 289.55L20.5617 300.03L21.0468 301.97ZM62.7257 300H20.8043V302H62.7257V300ZM112.354 300H62.7257V302H112.354V300ZM70.1898 291.49L112.111 301.97L112.596 300.03L70.6749 289.55L70.1898 291.49ZM69.4323 184.406V290.52H71.4323V184.406H69.4323ZM111.452 1.43329C122.319 24.0365 133.262 60.2801 130.81 95.5157C128.363 130.69 112.587 164.807 70.0303 183.49L70.8343 185.322C114.217 166.276 130.318 131.397 132.805 95.6546C135.288 59.9731 124.222 23.3783 113.255 0.566706L111.452 1.43329ZM63.8821 2H112.354V0H63.8821V2ZM20.8043 2H63.8821V0H20.8043V2ZM63.5273 174.447C26.1752 157.511 12.3154 126.579 10.1649 94.6586C8.01075 62.6849 17.6255 29.7942 27.1733 9.28334L25.3601 8.43931C15.7165 29.1561 5.98622 62.3882 8.16938 94.7931C10.3561 127.251 24.5159 158.954 62.7014 176.268L63.5273 174.447ZM63.5196 174.44L63.4456 174.414L62.7831 176.301L62.8571 176.327L63.5196 174.44ZM69.483 174.44C67.553 175.118 65.4497 175.118 63.5196 174.44L62.857 176.327C65.216 177.155 67.7867 177.155 70.1456 176.327L69.483 174.44ZM69.557 174.414L69.483 174.44L70.1456 176.327L70.2195 176.301L69.557 174.414ZM105.829 9.28334C115.377 29.7942 124.992 62.6849 122.838 94.6586C120.687 126.579 106.827 157.511 69.4753 174.447L70.3012 176.268C108.487 158.954 122.646 127.251 124.833 94.7931C127.016 62.3882 117.286 29.1561 107.642 8.43931L105.829 9.28334ZM64.1308 9.86133H106.736V7.86133H64.1308V9.86133ZM26.2667 9.86133H64.1308V7.86133H26.2667V9.86133Z" fill="#3D3D3D"/>
          </svg>
  </div>
</div>
  <div id="filter">
    <h2>Add your own ingredients</h2>

    <div id="colorfilter">
        <div class="colorBox" id="box16">
            <span class="deleteBox" onclick="clearBoxColor(16)">üóëÔ∏è</span>
            <input type="color" id="colorPicker16" class="color-picker">
        </div>
        <div class="colorBox hidden" id="box17">
            <span class="deleteBox" onclick="deleteBox(17)">üóëÔ∏è</span>
            <input type="color" id="colorPicker17" class="color-picker">
        </div>
        <div class="colorBox hidden" id="box18">
            <span class="deleteBox" onclick="deleteBox(18)">üóëÔ∏è</span>
            <input type="color" id="colorPicker18" class="color-picker">
        </div>
        <div class="colorBox hidden" id="box19">
            <span class="deleteBox" onclick="deleteBox(19)">üóëÔ∏è</span>
            <input type="color" id="colorPicker19" class="color-picker">
        </div>
        <div class="colorBox hidden" id="box20">
            <span class="deleteBox" onclick="deleteBox(20)">üóëÔ∏è</span>
            <input type="color" id="colorPicker20" class="color-picker">
        </div>
            <button id="addbutton" onclick="addColorBox()">+</button>
        </div>
    </div>
</div>

<div id="Drawing" class="tabcontent">
    <div id="drawcontainer">
    <div id ="Combinecolor">
        <div class="stackedColorBoxContainerdraw">
            <svg width="0" height="0" viewBox="0 0 119 248" xmlns="http://www.w3.org/2000/svg">
                <defs>
                  <clipPath id="drawclip">
                    <path d="M1 1L11.3719 249H109.628L120 1H1Z"/>
                </clipPath>
                </defs>
              </svg>
            <!-- These divs will use the SVG clipPath defined above -->
                    <div class="stackedColorBox" id="stackedBox25"></div>
                    <div class="stackedColorBox" id="stackedBox24"></div>
                    <div class="stackedColorBox" id="stackedBox23"></div>
                    <div class="stackedColorBox" id="stackedBox22"></div>
                    <div class="stackedColorBox" id="stackedBox21"></div>
        </div>
        <svg id="draw" xmlns="http://www.w3.org/2000/svg" width="135" height="300" viewBox="0 0 135 300" fill="none">
            <path d="M18.147 266.904L18.1669 267.383H18.6466H116.289H116.768L116.788 266.904L127.095 19.5013L127.117 18.9805H126.596H8.33947H7.81821L7.83991 19.5013L18.147 266.904ZM134.157 0.5L123.321 299.5H11.6138L0.778214 0.5H134.157Z" stroke="black"/>
            </svg>
  </div>
</div>
  <div id="filter">
    <h2>Add your own ingredients</h2>

    <div id="colorfilter">
        <div class="colorBox" id="box21">
            <span class="deleteBox" onclick="clearBoxColor(21)">üóëÔ∏è</span>
            <input type="color" id="colorPicker21" class="color-picker">
        </div>
        <div class="colorBox hidden" id="box22">
            <span class="deleteBox" onclick="deleteBox(22)">üóëÔ∏è</span>
            <input type="color" id="colorPicker22" class="color-picker">
        </div>
        <div class="colorBox hidden" id="box23">
            <span class="deleteBox" onclick="deleteBox(23)">üóëÔ∏è</span>
            <input type="color" id="colorPicker23" class="color-picker">
        </div>
        <div class="colorBox hidden" id="box24">
            <span class="deleteBox" onclick="deleteBox(24)">üóëÔ∏è</span>
            <input type="color" id="colorPicker24" class="color-picker">
        </div>
        <div class="colorBox hidden" id="box25">
            <span class="deleteBox" onclick="deleteBox(25)">üóëÔ∏è</span>
            <input type="color" id="colorPicker25" class="color-picker">
        </div>
            <button id="addbutton" onclick="addColorBox()">+</button>
        </div>
    </div>
</div>


</div>
</div>
</div>



<!-- The Modal -->
<!-- Clip path -->
<svg width="0" height="0">
    <defs>
      <clipPath id="clip-path-painting">
        <path d="M199.97 1H2L105.185 142.43L199.97 1Z"/>
    </clipPath>
      <clipPath id="clip-path-sculpture">
        <path d="M55.6081 94.9114V1.11035H1.79663V93.8107C2.34573 112.523 8.49561 149.947 28.7024 149.947C48.9091 149.947 55.6081 121.328 55.6081 94.9114Z"/>
    </clipPath>
      <clipPath id="clip-path-decorative-art">
        <path d="M55.255 167.496C-20.2827 133.246 -0.784142 42.2277 18.4073 1H56.2714H98.8765C118.068 42.2277 137.567 133.246 62.0289 167.496L61.9549 167.522C59.8104 168.275 57.4734 168.275 55.3289 167.522L55.255 167.496Z" />
    </clipPath>
    <clipPath id="clip-path-drawing">
        <path d="M1 1L11.3719 249H109.628L120 1H1Z"/> 
    </clipPath>
      <!-- ‡πÄ‡∏û‡∏¥‡πà‡∏° clipPath ‡∏≠‡∏∑‡πà‡∏ô‡πÜ ‡∏ï‡∏≤‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£ -->
    </defs>
  </svg>

<div id="myModal" class="modal">

    <!-- Modal content -->
    <div class="modal-content">
      <span class="close">&times;</span>
      <h1>This is  your mixers</h1>
      <div class="modal-body">
        <div class="modal-left">
          <!-- SVG and color swatches will go here -->
          <div id="svgContainer"></div>
          <div id="colorContainer"></div>
          <h3>Your ingredients</h3>
          <div id="extraColorContainer"></div>
        </div>
        <div class="modal-right">
          <!-- Image and details will go here -->
          <img id="modalImage" src="" alt="Art Image" />
          <div id="modalInfo"></div>
        </div>
      </div>
    </div>
  
  </div>
  
</div>
</div>
</div>
<script>
    let selectedColors = []

    // Function to get color by art type
    function getColorByArtType(TypesofArt) {
        switch (TypesofArt) {
            case 'Sculpture':
                return 'red';
            case 'Painting':
                return 'blue';
            case 'Decorative Art':
                return 'green';
            case 'Drawing':
                return 'yellow';
            case 'New media':
                return 'pink';
            case 'Photograph':
                return 'purple';
            case 'Print':
                return 'grey';
            case 'Volume':
                return 'orange';
        }
    }

    function colorDifference(color1, color2) {
        const r1 = parseInt(color1.slice(1, 3), 16);
        const g1 = parseInt(color1.slice(3, 5), 16);
        const b1 = parseInt(color1.slice(5, 7), 16);

        const r2 = parseInt(color2.slice(1, 3), 16);
        const g2 = parseInt(color2.slice(3, 5), 16);
        const b2 = parseInt(color2.slice(5, 7), 16);

        const dr = r1 - r2;
        const dg = g1 - g2;
        const db = b1 - b2;

        return Math.sqrt(dr * dr + dg * dg + db * db);
    }

    // Function to check color similarity
    function isColorSimilar(hex1, hex2) {
          let threshold = 10;
          let rgb1 = hexToRgb(hex1);
          let rgb2 = hexToRgb(hex2);

          let diffR = Math.abs(rgb1.r - rgb2.r);
          let diffG = Math.abs(rgb1.g - rgb2.g);
          let diffB = Math.abs(rgb1.b - rgb2.b);

          return diffR <= threshold && diffG <= threshold && diffB <= threshold;
        }

        // Function to convert hex to RGB
        function hexToRgb(hex) {
          let bigint = parseInt(hex.slice(1), 16);
          return {
            r: (bigint >> 16) & 255,
            g: (bigint >> 8) & 255,
            b: bigint & 255
          };
        }


let selectedArtType = 'all';

function filterBySelectedColors() {
    const tolerance = 10;

    d3.selectAll('circle').style('display', function() {
    const circle = d3.select(this);
    const artType = circle.attr('data-art-type');
    const colorsAttr = circle.attr('data-colors');
    const circleColors = colorsAttr ? colorsAttr.split(', ') : [];

    const isCorrectType = (selectedArtType === 'all' || artType === selectedArtType);
    let isColorMatched = (selectedColors.length === 0);

    if (isCorrectType && colorsAttr) {
        selectedColors.forEach(selectedColor => {
            circleColors.forEach(circleColor => {
                if (colorDifference(circleColor, selectedColor) < tolerance) {
                    isColorMatched = true;
                }
            });
        });
        return isColorMatched ? 'block' : 'none';
    }
    return 'none';
});
}

    d3.selectAll('.img-container circle').each(function() {
        const dataColor = d3.select(this).attr('data-color');
        console.log(data-color);
    });


    document.querySelectorAll('.tablinks').forEach(button => {
    button.addEventListener('click', function() {
        document.querySelectorAll('.tablinks').forEach(btn => btn.classList.remove('active'));
        this.classList.add('active');
        selectedArtType = this.getAttribute('data-value');
        console.log('Selected Art Type:', selectedArtType); // ‡πÄ‡∏û‡∏¥‡πà‡∏° console.log ‡∏ï‡∏£‡∏á‡∏ô‡∏µ‡πâ
        filterBySelectedColors(); // ‡∏Å‡∏£‡∏≠‡∏á‡∏†‡∏≤‡∏û‡∏ï‡∏≤‡∏°‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏®‡∏¥‡∏•‡∏õ‡∏∞‡∏ó‡∏µ‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å
    });
});


   
d3.selectAll('.color-picker').on('input', function() {
    const selectedColor = this.value.toUpperCase();
    if (!selectedColors.includes(selectedColor)) {
        selectedColors.push(selectedColor);
    }
    filterBySelectedColors();
});



function onColorBoxClick(id) {
    const colorPicker = document.getElementById(`colorPicker${id}`);
    colorPicker.style.display = 'block'; // ‡πÅ‡∏™‡∏î‡∏á color picker

    // ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á‡∏™‡∏µ
    colorPicker.onchange = function() {
        const newColor = this.value.toUpperCase();
        updateSelectedColors(id, newColor); // ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏™‡∏µ‡∏ó‡∏µ‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å
        updateColorBoxDisplay(id, newColor); // ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏Å‡∏≤‡∏£‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡∏Ç‡∏≠‡∏á‡∏Å‡∏•‡πà‡∏≠‡∏á‡∏™‡∏µ
        filterBySelectedColors(); // ‡∏Å‡∏£‡∏≠‡∏á‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏î‡πâ‡∏ß‡∏¢‡∏™‡∏µ‡πÉ‡∏´‡∏°‡πà
    };
}

function updateSelectedColors(id, newColor) {
    // ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏™‡∏µ‡πÉ‡∏ô‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£ selectedColors
    if (selectedColors.length >= id) {
        selectedColors[id - 1] = newColor;
    }
}

// ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏Å‡∏≤‡∏£‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡∏Ç‡∏≠‡∏á‡∏Å‡∏•‡πà‡∏≠‡∏á‡∏™‡∏µ
function updateColorBoxDisplay(id, color) {
    const box = document.getElementById(`box${id}`);
    box.style.backgroundColor = color;

    const stackedBox = document.getElementById(`stackedBox${id}`);
    if (stackedBox) {
        stackedBox.style.backgroundColor = color;
    }
}

// ‡πÄ‡∏û‡∏¥‡πà‡∏° Event Listener ‡πÉ‡∏´‡πâ‡∏Å‡∏•‡πà‡∏≠‡∏á‡∏™‡∏µ
for (let i = 1; i <= 25; i++) {
    document.getElementById(`box${i}`).addEventListener('click', function() {
        onColorBoxClick(i);
    });
}

function addColorBox() {
    for (let i = 1; i <= 25; i++) {
        const box = document.getElementById(`box${i}`);
        if (box.classList.contains("hidden")) {
            if (i === 1 || document.getElementById(`box${i-1}`).style.backgroundColor !== "") {
                box.classList.remove("hidden");
                return;
            }
        }
    }
    alert("Cannot add new color box. Previous box is empty or maximum number of color boxes reached.");
}

d3.selectAll('.color-picker').on('input', function() {
    const id = this.id.replace('colorPicker', '');
    const selectedColor = this.value.toUpperCase();
    if (!selectedColors.includes(selectedColor)) {
        selectedColors.push(selectedColor);
    }
    updateColorBoxDisplay(id, selectedColor);
    filterBySelectedColors();
});


function clearBoxColor(id) {
    const box = document.getElementById(`box${id}`);
    box.style.backgroundColor = ''; 

    const colorPicker = document.getElementById(`colorPicker${id}`);
    colorPicker.style.display = 'block'; 

    const stackedBox = document.getElementById(`stackedBox${id}`);
    if (stackedBox) {
        stackedBox.style.backgroundColor = '';
        
    }

    // Clear and hide subsequent boxes
    for (let i = id + 1; i <= 25; i++) {
        const nextBox = document.getElementById(`box${i}`);
        nextBox.style.backgroundColor = '';
        nextBox.classList.add("hidden");

        const nextStackedBox = document.getElementById(`stackedBox${i}`);
        if (nextStackedBox) {
            nextStackedBox.style.backgroundColor = '';
        }

        const nextColorPicker = document.getElementById(`colorPicker${i}`);
        nextColorPicker.style.display = 'block';
    }

    filterBySelectedColors();
}
    function deleteBox(id) {
    const box = document.getElementById(`box${id}`);
    box.classList.add("hidden");

    clearBoxColor(id);

    // Clear and hide subsequent boxes
    for (let i = id + 1; i <= 25; i++) {
        clearBoxColor(i);
        document.getElementById(`box${i}`).classList.add("hidden");
    }
}

    d3.selectAll('.color-picker').on('input', function() {
        const id = this.id.replace('colorPicker', '');
        const selectedColor = this.value.toUpperCase();
        if (!selectedColors.includes(selectedColor)) {
            selectedColors.push(selectedColor);
        }
        updateColorBoxDisplay(id, selectedColor);
        filterBySelectedColors();
    });

    for (let i = 1; i <= 25; i++) {
        document.getElementById(`box${i}`).addEventListener('dblclick', function() {
            clearBoxColor(i);
        });
    }

// Create Color swatch
function createColorSwatch(color) {
  const swatch = document.createElement('div');
  swatch.className = 'color-swatch';
  swatch.style.backgroundColor = color;
  return swatch;
}

// For create color swath in specific div
function addColorSwatchesToDiv(typeOfArt, colors) {
  const container = document.getElementById(`color-${typeOfArt.toLowerCase()}`);
  colors.forEach(color => {
    const swatch = createColorSwatch(color);
    container.appendChild(swatch);
  });
}

// Define your SVG paths keyed by the art types
const svgGraphics = {
  "Sculpture": `
  <svg xmlns="http://www.w3.org/2000/svg" width="78" height="302" viewBox="0 0 78 302" fill="none">
<path d="M1 0H0V1V97.7743V97.7889L0.000430286 97.8036C0.377742 110.661 2.62368 129.782 8.13032 146.069C10.8833 154.212 14.4705 161.706 19.0928 167.357C23.5239 172.775 28.9485 176.547 35.5228 177.504V287.455C34.7245 288.022 33.2486 288.758 31.1979 289.567C28.8603 290.489 25.9024 291.458 22.6541 292.34C16.1439 294.109 8.56064 295.503 2.5446 295.503H1.5446V296.503V301V302H2.5446H38.0763H39.6212H75.1529H76.1529V301V296.503V295.503H75.1529C69.1408 295.503 61.5619 294.111 55.0528 292.344C51.8051 291.462 48.8469 290.494 46.5077 289.572C44.4559 288.764 42.9768 288.027 42.1744 287.46V177.558C55.5415 176.048 64.3699 165.447 69.8516 151.088C75.4664 136.38 77.698 117.448 77.698 99.3226V1V0H76.698H1ZM2 97.7596V2H75.698V99.3226C75.698 117.327 73.476 135.986 67.9831 150.375C62.4818 164.785 53.8273 174.628 41.0942 175.653L40.1744 175.727V176.65V287.945V288.397L40.513 288.695C41.4798 289.548 43.4009 290.498 45.7745 291.433C48.1959 292.387 51.226 293.377 54.5288 294.274C60.7739 295.969 68.0772 297.351 74.1529 297.492V300H39.6212H38.0763H3.5446V297.492C9.62436 297.351 16.932 295.967 23.1784 294.27C26.4818 293.373 29.5118 292.382 31.9318 291.427C34.3035 290.492 36.223 289.541 37.186 288.688L37.5228 288.39V287.94V176.622V175.721L36.6271 175.627C30.3192 174.965 25.0448 171.476 20.641 166.091C16.2288 160.696 12.7371 153.451 10.025 145.429C4.60358 129.393 2.37491 110.492 2 97.7596ZM11.7966 13.1104H10.7966V14.1104V106.811V106.825L10.7971 106.84C11.0734 116.259 12.7571 130.404 16.935 142.229C19.0233 148.139 21.7582 153.539 25.3081 157.476C28.8748 161.432 33.3009 163.947 38.7024 163.947C49.4079 163.947 56.3961 156.324 60.6607 145.708C64.9289 135.083 66.6081 121.18 66.6081 107.911V14.1104V13.1104H65.6081H11.7966ZM12.7966 106.796V15.1104H64.6081V107.911C64.6081 121.06 62.9379 134.674 58.8049 144.963C54.6683 155.26 48.2036 161.947 38.7024 161.947C34.0004 161.947 30.0803 159.783 26.7936 156.137C23.4901 152.473 20.8644 147.347 18.8208 141.562C14.7369 130.004 13.0707 116.089 12.7966 106.796Z" fill="#3D3D3D"/>
</svg>`,
  "Painting": `
  <svg xmlns="http://www.w3.org/2000/svg" width="252" height="300" viewBox="0 0 205 244" fill="none">
            <path d="M204 1L204.414 1.27998L204.941 0.5H204V1ZM1 1V0.5H0.0158394L0.596183 1.29484L1 1ZM109.439 140.911L109.025 140.631L108.939 140.758V140.911H109.439ZM109.439 234.486H108.939V234.695L109.087 234.842L109.439 234.486ZM148.772 237.899H149.272V237.399H148.772V237.899ZM148.772 243V243.5H149.272V243H148.772ZM64.3776 243H63.8776V243.5H64.3776V243ZM64.3776 237.899V237.399H63.8776V237.899H64.3776ZM103.105 234.718L103.431 235.098L103.605 234.948V234.718H103.105ZM103.105 140.844H103.605V140.681L103.509 140.549L103.105 140.844ZM22.9459 11.6351V11.1351H21.962L22.5421 11.9298L22.9459 11.6351ZM182.7 11.6351L183.115 11.9135L183.637 11.1351H182.7V11.6351ZM106.211 125.722L105.808 126.017L106.229 126.594L106.627 126L106.211 125.722ZM204 0.5H1V1.5H204V0.5ZM109.853 141.191L204.414 1.27998L203.586 0.720017L109.025 140.631L109.853 141.191ZM109.939 234.486V140.911H108.939V234.486H109.939ZM126.338 237.399C122.203 237.399 118.884 237.398 116.168 236.978C113.467 236.561 111.416 235.738 109.79 234.131L109.087 234.842C110.913 236.647 113.19 237.531 116.015 237.967C118.825 238.4 122.23 238.399 126.338 238.399V237.399ZM148.772 237.399H126.338V238.399H148.772V237.399ZM149.272 243V237.899H148.272V243H149.272ZM64.3776 243.5H148.772V242.5H64.3776V243.5ZM63.8776 237.899V243H64.8776V237.899H63.8776ZM86.8113 237.399H64.3776V238.399H86.8113V237.399ZM102.78 234.339C101.183 235.708 99.1685 236.479 96.5509 236.903C93.9251 237.328 90.7347 237.399 86.8113 237.399V238.399C90.7286 238.399 93.995 238.33 96.7108 237.89C99.4349 237.449 101.647 236.628 103.431 235.098L102.78 234.339ZM102.605 140.844V234.718H103.605V140.844H102.605ZM0.596183 1.29484L102.701 141.139L103.509 140.549L1.40382 0.705158L0.596183 1.29484ZM22.9459 12.1351H182.7V11.1351H22.9459V12.1351ZM106.615 125.427L23.3498 11.3403L22.5421 11.9298L105.808 126.017L106.615 125.427ZM182.284 11.3566L105.796 125.443L106.627 126L183.115 11.9135L182.284 11.3566Z" fill="#3D3D3D"/>
  </svg>`,
  "Decorative Art": `
  <svg  xmlns="http://www.w3.org/2000/svg" width="133" height="300" viewBox="0 0 132 302" fill="none">
            <path d="M62.7257 184.406H63.7257V183.753L63.1277 183.49L62.7257 184.406ZM20.8043 1V0H20.1755L19.903 0.566706L20.8043 1ZM62.7257 290.52L62.9682 291.49L63.7257 291.3V290.52H62.7257ZM20.8043 301L20.5617 300.03L20.8043 302V301ZM112.354 301V302L112.596 300.03L112.354 301ZM70.4323 290.52H69.4323V291.3L70.1898 291.49L70.4323 290.52ZM70.4323 184.406L70.0303 183.49L69.4323 183.753V184.406H70.4323ZM112.354 1L113.255 0.566706L112.983 0H112.354V1ZM63.1143 175.358L62.7014 176.268L62.7415 176.287L62.7831 176.301L63.1143 175.358ZM26.2667 8.86133V7.86133H25.6292L25.3601 8.43931L26.2667 8.86133ZM63.1883 175.384L63.5196 174.44L63.5196 174.44L63.1883 175.384ZM69.8143 175.384L69.483 174.44L69.483 174.44L69.8143 175.384ZM69.8883 175.358L70.2195 176.301L70.2611 176.287L70.3012 176.268L69.8883 175.358ZM106.736 8.86133L107.642 8.43931L107.373 7.86133H106.736V8.86133ZM63.1277 183.49C20.5713 164.807 4.79517 130.69 2.34771 95.5157C-0.104031 60.2801 10.8386 24.0365 21.7055 1.43329L19.903 0.566706C8.93589 23.3783 -2.13023 59.9731 0.352532 95.6546C2.83957 131.397 18.9412 166.276 62.3237 185.322L63.1277 183.49ZM63.7257 290.52V184.406H61.7257V290.52H63.7257ZM21.0468 301.97L62.9682 291.49L62.4831 289.55L20.5617 300.03L21.0468 301.97ZM62.7257 300H20.8043V302H62.7257V300ZM112.354 300H62.7257V302H112.354V300ZM70.1898 291.49L112.111 301.97L112.596 300.03L70.6749 289.55L70.1898 291.49ZM69.4323 184.406V290.52H71.4323V184.406H69.4323ZM111.452 1.43329C122.319 24.0365 133.262 60.2801 130.81 95.5157C128.363 130.69 112.587 164.807 70.0303 183.49L70.8343 185.322C114.217 166.276 130.318 131.397 132.805 95.6546C135.288 59.9731 124.222 23.3783 113.255 0.566706L111.452 1.43329ZM63.8821 2H112.354V0H63.8821V2ZM20.8043 2H63.8821V0H20.8043V2ZM63.5273 174.447C26.1752 157.511 12.3154 126.579 10.1649 94.6586C8.01075 62.6849 17.6255 29.7942 27.1733 9.28334L25.3601 8.43931C15.7165 29.1561 5.98622 62.3882 8.16938 94.7931C10.3561 127.251 24.5159 158.954 62.7014 176.268L63.5273 174.447ZM63.5196 174.44L63.4456 174.414L62.7831 176.301L62.8571 176.327L63.5196 174.44ZM69.483 174.44C67.553 175.118 65.4497 175.118 63.5196 174.44L62.857 176.327C65.216 177.155 67.7867 177.155 70.1456 176.327L69.483 174.44ZM69.557 174.414L69.483 174.44L70.1456 176.327L70.2195 176.301L69.557 174.414ZM105.829 9.28334C115.377 29.7942 124.992 62.6849 122.838 94.6586C120.687 126.579 106.827 157.511 69.4753 174.447L70.3012 176.268C108.487 158.954 122.646 127.251 124.833 94.7931C127.016 62.3882 117.286 29.1561 107.642 8.43931L105.829 9.28334ZM64.1308 9.86133H106.736V7.86133H64.1308V9.86133ZM26.2667 9.86133H64.1308V7.86133H26.2667V9.86133Z" fill="#3D3D3D"/>
    </svg>`,
  "Drawing": `
  <svg xmlns="http://www.w3.org/2000/svg" width="135" height="300" viewBox="0 0 135 300" fill="none">
            <path d="M18.147 266.904L18.1669 267.383H18.6466H116.289H116.768L116.788 266.904L127.095 19.5013L127.117 18.9805H126.596H8.33947H7.81821L7.83991 19.5013L18.147 266.904ZM134.157 0.5L123.321 299.5H11.6138L0.778214 0.5H134.157Z" stroke="black"/>
    </svg>`,
};

function createColorSwatches(colors, artType) {
  let size = getSizeByArtType(artType); // Get size based on artType
  let clipPathId = getClipPathByArtType(artType); // Function to get clip-path id based on artType

  let colorSwatchesHTML = "<div class='color-swatches-container'>";
  colors.forEach(color => {
    colorSwatchesHTML += `<div class='color-swatch' style='background-color: ${color}; width: ${size.width}px; height: ${size.height}px; clip-path: url(#${clipPathId});'></div>`;
  });
  colorSwatchesHTML += "</div>";

  return colorSwatchesHTML;
}

function getClipPathByArtType(artType) {
  const clipPathMap = {
    "Painting": "clip-path-painting",
    "Sculpture": "clip-path-sculpture",
    "Decorative Art": "clip-path-decorative-art",
    "Drawing": "clip-path-drawing",
    // Add other artType and corresponding clip-path id
  };
  return clipPathMap[artType] || "default-clip-path"; // Default clip-path id
}

function getSizeByArtType(artType) {
    const sizeMap = {
        "Painting": { width: 360, height: 29 },
        "Sculpture": { width: 360, height: 31.5 },
        "Decorative Art": { width: 360, height: 34 },
        "Drawing": { width: 360, height: 49.6 },
        // ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏Ç‡∏ô‡∏≤‡∏î‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°‡∏ï‡∏≤‡∏°‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏®‡∏¥‡∏•‡∏õ‡∏∞‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏ì‡∏°‡∏µ
    };
    return sizeMap[artType] || { width: 360, height: 20 }; //if don't have value 
}

// ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡πà‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏™‡∏£‡πâ‡∏≤‡∏á color swatch
function createColorSwatch(color) {
  const swatch = document.createElement('div');
  swatch.className = 'color-swatch';
  swatch.style.backgroundColor = color;
  return swatch;
}

// ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡πà‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏û‡∏¥‡πà‡∏° color swatches ‡∏•‡∏á‡πÉ‡∏ô div ‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Ç‡πâ‡∏≠‡∏á
function addColorSwatchesToDiv(typeOfArt, colors) {
  const container = document.getElementById(`color-${typeOfArt.toLowerCase()}`);
  colors.forEach(color => {
    const swatch = createColorSwatch(color);
    container.appendChild(swatch);
  })
}


function createExtraColorSwatches(colors, containerId) {
    const container = document.getElementById(containerId);
    container.innerHTML = ''; // Clear any existing content

    // Deduplicate and filter out falsy values, then take the first five
    let uniqueColors = Array.from(new Set(colors.filter(Boolean))).slice(0, 5);

    // Calculate number of empty swatches needed to center the colored swatches
    const emptySwatchesCount = 5 - uniqueColors.length;
    const emptySwatchesBefore = Math.floor(emptySwatchesCount / 2);

    // Create empty swatches to center the colored swatches
    for (let i = 0; i < emptySwatchesBefore; i++) {
        container.appendChild(createExtraColorSwatch(null));
    }

    // Create colored swatches
    uniqueColors.forEach(color => {
        container.appendChild(createExtraColorSwatch(color));
    });

    // Add remaining empty swatches
    for (let i = emptySwatchesBefore; i < emptySwatchesCount; i++) {
        container.appendChild(createExtraColorSwatch(null));
    }
}

function createExtraColorSwatch(color) {
    const swatch = document.createElement('div');
    swatch.className = 'extra-color-swatch';
    swatch.style.backgroundColor = color || 'transparent';
    return swatch;
}



function showModal(imageUrl, info, colors, site, description, artType) {
  const modal = document.getElementById("myModal");
  const modalImage = document.getElementById("modalImage");
  const modalInfo = document.getElementById("modalInfo");
  const colorContainer = document.getElementById("colorContainer");
  const svgContainer = document.getElementById("svgContainer");

  // Set image and info in modal
  modalImage.src = imageUrl;
  modalInfo.innerHTML = info.replace(/\n/g, "<br>");

  // Include SVG from svgGraphics based on artType
  svgContainer.innerHTML = svgGraphics[artType];

  // Apply clip-path to colorContainer based on artType
  colorContainer.className = '';
  colorContainer.classList.add(`clip-path-${artType.toLowerCase().replace(/\s+/g, '-')}`);


  // Generate color swatches HTML based on artType
  colorContainer.innerHTML = createColorSwatches(colors, artType);;

// Call to create additional color swatches
createExtraColorSwatches(colors, "extraColorContainer");

  // Display the modal
  modal.style.display = "block";

  // Close modal logic
  const span = document.getElementsByClassName("close")[0];
  span.onclick = function() {
    modal.style.display = "none";
  }
  window.onclick = function(event) {
    if (event.target == modal) {
      modal.style.display = "none";
    }
  }
}

// Load the SVG file
d3.xml('West Building, Main floor.svg').then(svgData => {
const svgContainer = document.getElementById("svg-container");
svgContainer.appendChild(svgData.documentElement);

// Load CSV data after SVG is loaded
d3.csv('Finaldata.csv').then(function(data) {
    // Filter data for "Sculpture Garden"
    let filteredData = data.filter(d => d.description.includes("West Main Floor"));

    // Count types of art from filtered data
    let typeCounts = {};
    filteredData.forEach(d => {
        if (!typeCounts[d.TypesofArt]) {
            typeCounts[d.TypesofArt] = 0;
        }
        typeCounts[d.TypesofArt] += 1;
    });

    // Calculate dots per type
    const totalOccurrences = d3.sum(Object.values(typeCounts));
    const totalDots = 100;
    let typeDots = {};
    for (const artType in typeCounts) {
        typeDots[artType] = Math.round(totalDots * (typeCounts[artType] / totalOccurrences));
    }

    // Define colorMap
    let colorMap = {
        "Sculpture": "#ef3c23",
        "Painting": "#1b4793",
        "Decorative Art": "#f15a42",
        "Drawing": "#fac92c",
        "New media": "#f7b0be",
        "Photograph": "#ed8e83",
        "Print": "#cfe5cc",
        "Volume": "#2178ae",
        // Add more art types and their colors here
    };

    // Create dot matrix
    const svgDotMatrix = d3.select("#dot-matrix-container svg");
    let row = 0, col = 0;
    const dotSize = 15;
    for (const artType in typeDots) {
        const dots = typeDots[artType];
        for (let i = 0; i < dots; i++) {
            svgDotMatrix.append("circle")
                .attr("cx", col * (dotSize + 2) + (dotSize / 2))
                .attr("cy", row * (dotSize + 2) + (dotSize / 2))
                .attr("r", dotSize / 2)
                .attr("fill", colorMap[artType])
                .attr("stroke", "white");
            col++;
            if (col >= 10) {
                col = 0;
                row++;
            }
        }
    }

    // Create legends
    d3.select("#legend").selectAll("div").remove();
    const totalTypesCount = d3.sum(Object.values(typeCounts));
    Object.keys(typeDots).forEach(artType => {
        if (colorMap[artType]) {
            const percentage = (typeCounts[artType] / totalTypesCount * 100).toFixed(2);
            d3.select("#legend").append("div")
                .style("display", "inline-block")
                .style("margin-right", "20px")
                .html(`
                    <div style="display: inline-block; width: ${dotSize}px; height: ${dotSize}px; background-color: ${colorMap[artType]}; border-radius: 50%; margin-right: 5px;"></div>
                    ${artType}: ${percentage}%
                `);
        }
    });

    // Place circles on SVG
    data.forEach(function(d, index) {
        const roomGroup = d3.select(`#${d.room}`);
        if (!roomGroup.empty()) {
            const roomGroupElement = roomGroup.node();
            const roomGroupBBox = roomGroupElement.getBBox();
            const roomGroupWidth = roomGroupBBox.width;
            const roomGroupHeight = roomGroupBBox.height;
            const randomX = roomGroupBBox.x + Math.random() * roomGroupWidth;
            const randomY = roomGroupBBox.y + Math.random() * roomGroupHeight;

            Vibrant.from(d.iiifthumburl).getPalette(function(err, palette) {
                if (!err) {
                    let hexColorsForThisCircle = [];
                    let colorCount = 0; // Counter for the number of colors added

                    for (const swatch in palette) {
            if (palette[swatch] && typeof palette[swatch].getHex === 'function') {
                hexColorsForThisCircle.push(palette[swatch].getHex());
                 // Extract colors and remove duplicates, filter out invalid values
                 let extractedColors = Object.values(palette)
            .filter(swatch => swatch && swatch.getHex()) // Filter out null or undefined swatches
            .map(swatch => swatch.getHex());

        createExtraColorSwatches(extractedColors, 'extraColorContainer');
    }
        }

        // If there are fewer than 5 colors, prepend black colors to the start of the array
        while (hexColorsForThisCircle.length < 5) {
            hexColorsForThisCircle.unshift('#FFFFF'); // Prepend black color
        }

                    let circle = roomGroup.append("circle")
                        .attr('cx', randomX)
                        .attr('cy', randomY)
                        .attr('r', 4)
                        .attr('fill', getColorByArtType(d.TypesofArt))
                        .attr('data-colors', hexColorsForThisCircle.join(', '))
                        .attr('data-art-type', d.TypesofArt)
                        .attr('data-site', d.site);

                    // Add click event to open the modal
            circle.on("click", function() {
                // Modal logic
                const modal = document.getElementById("myModal");
                const modalImage = document.getElementById("modalImage");
                const modalInfo = document.getElementById("modalInfo");
                const colorContainer = document.getElementById("colorContainer");
                const span = document.getElementsByClassName("close")[0];
                const modalContent = `${d.title}<br>by ${d.forwarddisplayname}<br>Artist: ${d.role}<br>Nationality: ${d.visualbrowsernationality}<br>Art Type: ${d.TypesofArt}<br>Medium: ${d.medium}<br>Dimension: ${d.dimensions}<br>Location: ${d.description}`;
                showModal(d.iiifthumburl, modalContent, hexColorsForThisCircle, d.site, d.description, d.TypesofArt);
                  
                // Clear previous color swatches
                colorContainer.innerHTML = '';

                // Create color swatches for each color
                hexColorsForThisCircle.forEach(color => {
                const size = getSizeByArtType(d.TypesofArt); // ‡∏£‡∏±‡∏ö‡∏Ñ‡πà‡∏≤‡∏Ç‡∏ô‡∏≤‡∏î
                const colorSwatch = document.createElement('div');
                colorSwatch.className = 'color-swatch';
                colorSwatch.style.backgroundColor = color;
                colorSwatch.style.width = `${size.width}px`; // ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Å‡∏ß‡πâ‡∏≤‡∏á
                colorSwatch.style.height = `${size.height}px`; // ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏π‡∏á
                colorContainer.appendChild(colorSwatch);
                });

                // Display the modal
                modal.style.display = "block";

                // Close modal when clicking the close button or outside the modal
                span.onclick = function() {
                    modal.style.display = "none";
                }

                window.onclick = function(event) {
                    if (event.target == modal) {
                        modal.style.display = "none";
                    }
                }
            });
                } else {
                    console.error("Error at index", index, "with URL:", d.iiifthumburl, "Error:", err);
                }
            });
        } else {
            console.warn("Room group not found for", d.room);
        }
    });
});
});


// Function to filter art by type
function filterArtByType(selectedArtType) {
d3.selectAll('circle')
    .style('display', function() {
        const artType = d3.select(this).attr('data-art-type');
        return (selectedArtType === 'all' || artType === selectedArtType) ? 'block' : 'none';
    });
}

// Add event listeners to toggle buttons
document.querySelectorAll('.tablinks').forEach(button => {
button.addEventListener('click', function() {
    // Remove the 'active' class from all buttons
    document.querySelectorAll('.tablinks').forEach(btn => btn.classList.remove('active'));
    
    // Add the 'active' class to the clicked button
    this.classList.add('active');
    
    const selectedArtType = this.getAttribute('data-value');
    filterArtByType(selectedArtType); // Call the filter function
});
});
   
document.addEventListener("DOMContentLoaded", function() {
    const defaultTabButton = document.getElementById("defaultOpen");
    if (defaultTabButton) {
        defaultTabButton.click();
    } else {
        console.error("Default tab button not found.");
    }
});

// Function to open a tab and filter the art
function openTab(evt, tabName) {
var i, tabcontent, tablinks;

// Hide all tab content
tabcontent = document.getElementsByClassName("tabcontent");
for (i = 0; i < tabcontent.length; i++) {
tabcontent[i].style.display = "none";
}

// Remove 'active' class from all tab links
tablinks = document.getElementsByClassName("tablinks");
for (i = 0; i < tablinks.length; i++) {
tablinks[i].className = tablinks[i].className.replace(" active", "");
}

// Show the current tab content
var selectedTabContent = document.getElementById(tabName);
if (selectedTabContent) {
selectedTabContent.style.display = "block";
} else {
console.error(`No element with id '${tabName}' was found.`);
}

// Add 'active' class to the clicked tab/button
if (evt.currentTarget) {
evt.currentTarget.className += " active";
} else {
console.error("Event target is not available.");
}
}
// JavaScript for handling accordions
var acc = document.getElementsByClassName("accordion");
var i;

for (i = 0; i < acc.length; i++) {
acc[i].addEventListener("click", function() {
this.classList.toggle("active");
var panel = this.nextElementSibling;
if (panel.style.maxHeight) {
  panel.style.maxHeight = null;
} else {
  panel.style.maxHeight = panel.scrollHeight + "px";
} 
});
}

// JavaScript for handling the dropdown
var dropdownBtn = document.getElementsByClassName("dropdown-btn")[0];
dropdownBtn.addEventListener("click", function() {
this.classList.toggle("active");
var dropdownContent = this.nextElementSibling;
if (dropdownContent.style.display === "block") {
dropdownContent.style.display = "none";
} else {
dropdownContent.style.display = "block";
}
});
    </script>
  </body>
</html>